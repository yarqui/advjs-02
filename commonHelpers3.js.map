{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst MESSAGES = {\n  fulfilled: '✅ Fulfilled',\n  rejected: '❌ Rejected',\n};\n\nconst NOTIFICATION_TYPES = {\n  success: 'success',\n  error: 'error',\n};\n\nconst form = document.querySelector('form.form');\n\nconst createPromise = (position, delay) => {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      shouldResolve\n        ? resolve({ position, delay })\n        : reject({ position, delay });\n    }, delay);\n  });\n};\n\nconst displayNotification = ({ position, delay }, isSuccess) => {\n  const type = isSuccess\n    ? NOTIFICATION_TYPES.success\n    : NOTIFICATION_TYPES.error;\n\n  const message = isSuccess ? MESSAGES.fulfilled : MESSAGES.rejected;\n\n  iziToast[type]({ message: `${message} promise ${position} in ${delay}ms` });\n};\n\nconst onSubmit = e => {\n  e.preventDefault();\n\n  const { delay: delayVal, step, amount } = form.elements;\n\n  let delay = Number(delayVal.value);\n  const delayStep = Number(step.value);\n  const amountOfPromises = Number(amount.value);\n\n  form.reset();\n\n  for (let i = 1; i <= amountOfPromises; i += 1) {\n    createPromise(i, delay)\n      .then(res => displayNotification(res, true))\n      .catch(res => displayNotification(res, false));\n\n    delay += delayStep;\n  }\n};\n\nform.addEventListener('submit', onSubmit);\n"],"names":["MESSAGES","NOTIFICATION_TYPES","form","createPromise","position","delay","shouldResolve","resolve","reject","displayNotification","isSuccess","type","message","iziToast","onSubmit","e","delayVal","step","amount","delayStep","amountOfPromises","i","res"],"mappings":"wIAGA,MAAMA,EAAW,CACf,UAAW,cACX,SAAU,YACZ,EAEMC,EAAqB,CACzB,QAAS,UACT,MAAO,OACT,EAEMC,EAAO,SAAS,cAAc,WAAW,EAEzCC,EAAgB,CAACC,EAAUC,IAAU,CACzC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAEtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACfF,EACIC,EAAQ,CAAE,SAAAH,EAAU,MAAAC,EAAO,EAC3BG,EAAO,CAAE,SAAAJ,EAAU,MAAAC,CAAK,CAAE,CAC/B,EAAEA,CAAK,CACZ,CAAG,CACH,EAEMI,EAAsB,CAAC,CAAE,SAAAL,EAAU,MAAAC,CAAK,EAAIK,IAAc,CAC9D,MAAMC,EAAOD,EACTT,EAAmB,QACnBA,EAAmB,MAEjBW,EAAUF,EAAYV,EAAS,UAAYA,EAAS,SAE1Da,EAASF,GAAM,CAAE,QAAS,GAAGC,aAAmBR,QAAeC,KAAW,CAAA,CAC5E,EAEMS,EAAWC,GAAK,CACpBA,EAAE,eAAc,EAEhB,KAAM,CAAE,MAAOC,EAAU,KAAAC,EAAM,OAAAC,CAAQ,EAAGhB,EAAK,SAE/C,IAAIG,EAAQ,OAAOW,EAAS,KAAK,EACjC,MAAMG,EAAY,OAAOF,EAAK,KAAK,EAC7BG,EAAmB,OAAOF,EAAO,KAAK,EAE5ChB,EAAK,MAAK,EAEV,QAASmB,EAAI,EAAGA,GAAKD,EAAkBC,GAAK,EAC1ClB,EAAckB,EAAGhB,CAAK,EACnB,KAAKiB,GAAOb,EAAoBa,EAAK,EAAI,CAAC,EAC1C,MAAMA,GAAOb,EAAoBa,EAAK,EAAK,CAAC,EAE/CjB,GAASc,CAEb,EAEAjB,EAAK,iBAAiB,SAAUY,CAAQ"}